<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#canvas{
				width: 400px;
				height: 400px;
				border: solid 1px red;
				margin: 50px auto;
				display: block;
			}
		</style>
	</head>
	<body>
		<canvas id="canvas" width="800" height="800"></canvas>
		<select id="width">
			<option value="1">1</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5</option>
			<option value="6">6</option>
		</select>
		<input id="color" type="color" name="color" class="color"/>
		<input type="checkbox" value=""  id="clear"/>橡皮擦
		
		
		<script type="text/javascript">
			// 画布
			var canvas = document.getElementById("canvas");
			canvas.width = 800;
			canvas.height = 800;
			// 画笔				
			var context = canvas.getContext("2d");
			
		    var flag = false;
		    var clear = false;
		    
		    canvas.onmousedown = function(e){
		    	context.beginPath();
		    	flag = true;
		    	
		    }
			canvas.onmouseup = function(e){
		    	flag = false;
		    	
		    }
			canvas.onmousemove = function(e){
		    	var x = (e.pageX - this.offsetLeft)*2;
		    	var y = (e.pageY - this.offsetTop)*2;
		    	
		    	if(flag){
		    		if(!clear){
		    			context.lineTo(x,y);
		    		    context.stroke();
		    		}else{
		    			context.clearRect(x-5,y-5,10,10)
		    		}
		    		
		    	}
		    	
		    	
		    }
			
			document.getElementById("width").onchange = function(){
				context.lineWidth = this.value*2;
			}
			document.getElementById("color").onchange = function(){
				context.strokeStyle = this.value;
			}
			document.getElementById("clear").onchange = function(e){
				clear = this.checked;
			}
		
		
			
			
			
		</script>
	</body>
</html>
